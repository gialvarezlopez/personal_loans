{% extends 'app/base.html.twig' %}

{% block title_page %}
    {% trans %}clients_edit_title{% endtrans %} - {% trans %}app_name{% endtrans %}
{% endblock %}

{% block breadcrumb %}
    {# {{ include('EmrBundle:consulta:_breadcrumb.html.twig' )  }} #}
{% endblock %}

{% block submenutop %}
    {# {{ include('EmrBundle:consulta:_submenu.html.twig' )  }} #}
{% endblock %}


{#
{% block header %}
        <h1>Clients list</h1><hr>
{% endblock %}
#}

{% block content %}

<style>

</style>

{#  Check the notifications #}
{% set created = 0 %}
{% for message in app.session.flashbag().get("success") %}
    <div class="alert alert-success"><i class="fa fa-check-circle-o" aria-hidden="true"></i> {{message}}</div>
{% endfor %}
{% for message in app.session.flashbag().get("error") %}
    <div class="alert alert-danger"><i class="fa fa-times" aria-hidden="true"></i> {{message}} </div>
{% endfor %}


<section class="content-header">
      <h1>
        {% trans %}clients_edit_title{% endtrans %}
        <small></small>
      </h1>
      <ol class="breadcrumb">
        <li><a href="#"><i class="fa fa-dashboard"></i> Dashboard</a></li>
        <li><a href="{{ path('client_index') }}">{% trans %}clients_title{% endtrans %}</a></li>
        <li><a href="{{ path('client_new') }}">{% trans %}clients_new_title{% endtrans %}</a></li>
      </ol>
</section>
<hr>
<div class="box">
    <div class="box-header">
    </div>
    <div class="box-body">
        
        {#
        {{ form_start(edit_form) }}
            {{ form_widget(edit_form) }}
            <button type="submit" class="btn bg-navy marginBT"/><i class="fa fa-check-circle" aria-hidden="true"></i> Save</button>
        {{ form_end(edit_form) }}
        #}
        {{form_start(edit_form,{'enctype':'multipart/form-date'})}}
            <div class="row">
                <div class="col-md-4 col-lg-3 col-sm-12">
                    <div class="form-group">
                        <div class="form_error">{{ form_errors(edit_form.cliFirstName)}}</div>
                        <label for="" class=" control-label">{% trans %}clients_edit_input_first_name{% endtrans %}: <span class="text-danger">*</span></label>
                        <div class="">{{ form_widget(edit_form.cliFirstName,  { 'attr': {'class': 'form-control', 'placeholder':'First Name', "autocomplete":"off"} } ) }}</div>
                    </div>
                </div>
                <div class="col-md-4 col-lg-3 col-sm-12">
                    <div class="form-group">
                        <div class="form_error">{{ form_errors(edit_form.cliMiddleName)}}</div>
                        <label for="" class=" control-label">{% trans %}clients_edit_input_middle_name{% endtrans %}: </label>
                        <div class="">{{ form_widget(edit_form.cliMiddleName,  { 'attr': {'class': 'form-control', 'placeholder':'Middle Name', "autocomplete":"off"} } ) }}</div>
                    </div>
                </div>
                <div class="col-md-4 col-lg-3 col-sm-12">
                    <div class="form-group">
                        <div class="form_error">{{ form_errors(edit_form.cliFirstSurname)}}</div>
                        <label for="" class=" control-label">{% trans %}clients_edit_input_first_surname{% endtrans %}: <span class="text-danger">*</span></label>
                        <div class="">{{ form_widget(edit_form.cliFirstSurname,  { 'attr': {'class': 'form-control', 'placeholder':'First Surname', "autocomplete":"off"} } ) }}</div>
                    </div>
                </div>
                <div class="col-md-4 col-lg-3 col-sm-12">
                    <div class="form-group">
                        <div class="form_error">{{ form_errors(edit_form.cliSecondSurname)}}</div>
                        <label for="" class=" control-label">{% trans %}clients_edit_input_second_surname{% endtrans %}: </label>
                        <div class="">{{ form_widget(edit_form.cliSecondSurname,  { 'attr': {'class': 'form-control', 'placeholder':'Second Surname', "autocomplete":"off"} } ) }}</div>
                    </div>
                </div>
                <div class="col-md-4 col-lg-3 col-sm-12">
                    <div class="form-group">
                        <div class="form_error">{{ form_errors(edit_form.cliIdNumber)}}</div>
                        <label for="" class=" control-label">{% trans %}clients_table_title_id_number{% endtrans %}: <span class="text-danger">*</span></label>
                        <div class="">{{ form_widget(edit_form.cliIdNumber,  { 'attr': {'class': 'form-control', 'placeholder':'ID Number', "autocomplete":"off"} } ) }}</div>
                    </div>
                </div>
                <div class="col-md-4 col-lg-3 col-sm-12">
                    <div class="form-group">
                        <div class="form_error">{{ form_errors(edit_form.cliIdType)}}</div>
                        <label for="" class=" control-label">{% trans %}clients_table_title_id_type{% endtrans %}: <span class="text-danger">*</span></label>
                        <div class="">{{ form_widget(edit_form.cliIdType,  { 'attr': {'class': 'form-control', 'placeholder':'ID Type', "autocomplete":"off"} } ) }}</div>
                    </div>
                </div>
                <div class="col-md-4 col-lg-3 col-sm-12">
                    <div class="form-group">
                        <div class="form_error">{{ form_errors(edit_form.cliAddress)}}</div>
                        <label for="" class=" control-label">{% trans %}clients_info_address{% endtrans %}: <span class="text-danger">*</span></label>
                        <div class="">{{ form_widget(edit_form.cliAddress,  { 'attr': {'class': 'form-control', 'placeholder':'Address', "autocomplete":"off"} } ) }}</div>
                    </div>
                </div>
                <div class="col-md-4 col-lg-3 col-sm-12">
                    <div class="form-group">
                        <div class="form_error">{{ form_errors(edit_form.cliPhone1)}}</div>
                        <label for="" class=" control-label">{% trans %}clients_info_phone1{% endtrans %}: </label>
                        <div class="">{{ form_widget(edit_form.cliPhone1,  { 'attr': {'class': 'form-control', 'placeholder':'Phone1', "autocomplete":"off"} } ) }}</div>
                    </div>
                </div>
                <div class="col-md-4 col-lg-3 col-sm-12">
                    <div class="form-group">
                        <div class="form_error">{{ form_errors(edit_form.cliPhone2)}}</div>
                        <label for="" class=" control-label">{% trans %}clients_info_phone2{% endtrans %}: </label>
                        <div class="">{{ form_widget(edit_form.cliPhone2,  { 'attr': {'class': 'form-control', 'placeholder':'Phone2', "autocomplete":"off"} } ) }}</div>
                    </div>
                </div>
                <div class="col-md-4 col-lg-3 col-sm-12">
                    <div class="form-group">
                        <div class="form_error">{{ form_errors(edit_form.cliEmail)}}</div>
                        <label for="" class=" control-label">{% trans %}clients_info_email{% endtrans %}: </label>
                        <div class="">{{ form_widget(edit_form.cliEmail,  { 'attr': {'class': 'form-control', 'placeholder':'Email', "autocomplete":"off"} } ) }}</div>
                    </div>
                </div>
                <div class="col-md-6 col-lg-6 col-sm-12">
                    <div class="form-group">
                        <div class="form_error">{{ form_errors(edit_form.cliNote)}}</div>
                        <label for="" class=" control-label">{% trans %}clients_info_note{% endtrans %}: </label>
                        <div class="">{{ form_widget(edit_form.cliNote,  { 'attr': {'class': 'form-control', 'placeholder':'Note', "autocomplete":"off"} } ) }}</div>
                    </div>
                </div>
                <div class="col-md-12 col-lg-12 col-sm-12">
                    <div class="form-group">
                        <div class="form_error">{{ form_errors(edit_form.cliActive)}}</div>
                        <label for="appbundle_loan_loaCompleted" class=" control-label">{% trans %}clients_table_title_ative{% endtrans %}: {{ form_widget(edit_form.cliActive,  { 'attr': {'class': 'form-controlx'} } ) }}</label>
                    </div>
                </div>
                <div class="col-md-12 col-lg-12 col-sm-12">
                    <ul class="list-inline">
                        {{ form_start(edit_form) }}
                            {{ form_widget(edit_form) }}    
                            <li> <button type="submit" class="btn bg-navy marginBT"><i class="fa fa-check-circle" aria-hidden="true"></i> {% trans %}general_btn_save{% endtrans %}</button></li>
                         {{ form_end(edit_form) }}
                        
                        <li>
                            <a class="btn btn-success marginBT" href="{{ path('loan_new',{ 'clientId': client.cliId }) }}"><i class="fa fa-handshake-o" aria-hidden="true"></i> {% trans %}clients_btn_new_loan{% endtrans %} </a>
                        </li>
                        <li>
                            <a class="btn btn-primary marginBT" href="{{ path('setProfileImage_show') }}?clientId={{client.cliId}}"><i class="fa fa-address-card-o" aria-hidden="true"></i> {% trans %}clients_btn_set_image_profile{% endtrans %}</a>
                        </li>
                        <li>
                            <a class="btn btn-info marginBT" href="{{ path('client_index') }}"><i class="fa fa-list-ul" aria-hidden="true"></i> {% trans %}clients_btn_clients_list{% endtrans %}</a>
                        </li>
                        <li>
                            <a class="btn btn-warning marginBT" href="{{ path('client_new') }}"><i class="fa fa-user-circle-o" aria-hidden="true"></i> {% trans %}clients_btn_new_client{% endtrans %}</a>
                        </li>
                        
                        <li>
                            {{ form_start(delete_form) }}
                                <button type="submit" id="btnDelete" class="btn btn-danger marginBT" ><i class="fa fa-trash" aria-hidden="true"></i> {% trans %}general_btn_delete{% endtrans %}</button>
                            {{ form_end(delete_form) }}
                        </li>
                        
                    </ul>
                   

                </div>
            </div>            

            
        {{form_end(edit_form)}}
    </div>
</div>    
{% endblock %}

{% block codejs %}
    <script>
        //$(document).on("ready", function(){
        $(function () {

            $("form").submit(function(){
                $("#holder_loading").show(); 
            });

            $("#btnDelete").on("click",function(){
                $.confirm({
					icon: 'fa fa-warning',
					title: 'Confirm!',
					content: 'Are you sure to delete it?',
					type: 'red',
						typeAnimated: true,
						buttons: {
						    yes: {
							    text: 'Ok',
								btnClass: 'btn-red',
								action: function () {
                                   $("#holder_loading").show(); 
								   $("form[name='form']").submit();
								}
							},
							close: function () {
							}
					    }
                });        
                return false;
            });
        });
    </script>
{% endblock %}        
